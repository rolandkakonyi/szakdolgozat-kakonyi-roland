<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
<title>Lagrange Interpolation</title>

<script language="JavaScript">

var sum = 0;
var Size=1;
var x=new Array();
var y=new Array();

function StartOver()
{
	Size=1;
	document.MyForm.ValueX.value="";
	document.MyForm.ValueY.value="";
}

//=====================================

//Function getXY() starts here (reads the points)

function getXY()
{
	x[Size]=parseFloat(eval(document.MyForm.ValueX.value));
	y[Size]=parseFloat(eval(document.MyForm.ValueY.value));
	sum = sum + x[Size] + y[Size];
	Size++;
	
}

// end function getXY()

//========================================

function Lagrange()
{	
	Size = Size - 1;
	var i, j, k;
	var c = new Array();
	var s1 = new Array();
	var s2 = new Array();
	for (k = 1; k <= Size; k++)
	{
		c[k] = 1;
		for (j = 1; j <= Size; j++)
			if ( j != k)
				c[k] = c[k] * (x[k] - x[j]);
		c[k] = y[k] / c[k];
	}
	//document.writeln(sum);
	document.writeln("<HTML><HEAD><TITLE>");
        document.writeln("Lagrange Interpolation</TITLE></HEAD>");
        document.writeln("<BODY BGCOLOR=lightgreen>");
        document.writeln("<CENTER><B><FONT COLOR=red SIZE=+2>");
	
	document.writeln("The Lagrange polynomial interpolation of: ");

	for (i = 1; i < Size; i++)
	{
		document.write("(" + x[i] + "," + y[i] + "), ");
	}
	document.write("(" + x[Size] + "," + y[Size] + "), is <BR>p(x) = ");

	document.write("y<sub>1</sub> L<sub>1</sub>(x) + ");
	document.write("y<sub>2</sub> L<sub>2</sub>(x) + ... + ");
	document.write("y<sub>"+Size+"</sub> L<sub>" + Size + "</sub>(x), where<P>");

	for (i = 1; i <= Size; i++)
	{
		s1[i] = "<FONT COLOR='blue' SIZE=+3>(</FONT>";
		s2[i] = "<FONT COLOR='blue' SIZE=+3>(</FONT>";
		for (j = 1; j <= Size; j++)
		{
			if (j != i)
			{
				if (x[j] > 0)
				{
					s1[i] = s1[i] + "(x - " + x[j] + ")";
					s2[i] = s2[i] + "(" + x[i] + " - " + x[j] + ")";
				}
				else if (x[j] < 0)
				{
					s1[i] = s1[i] + "(x + " + Math.abs(x[j]) + ")";
					s2[i] = s2[i] + "(" + x[i] + " + " + Math.abs(x[j]) + ")";
				}
				else if (x[j] == 0)
				{
					s1[i] = s1[i] + "x";
					s2[i] = s2[i] + "(" + x[i] + " - " + x[j] + ")";
				}
				//s1[i] = s1[i] + "(x - " + x[j] + ")";
				//s2[i] = s2[i] + "(" + x[i] + " - " + x[j] + ")";
			}
		}
		s1[i] = s1[i] + "<FONT COLOR='blue' SIZE=+3>)</FONT>";
		s2[i] = s2[i] + "<FONT COLOR='blue' SIZE=+3>)</FONT>";
	}		

	for (i = 1; i <= Size; i++)
	{
		
		document.writeln("y<sub>" + i + "</sub> = " + y[i] + " and ");
		document.writeln("L<sub>" + i + "</sub>(x) = ");
		document.write(s1[i] + "<FONT COLOR='green' SIZE=+3>/");
		document.writeln("</FONT>" + s2[i] + "<BR>");	
	}	

	//document.writeln("<P><P>"+ sum);
	//document.writeln("<P><P>"+ Size);

	document.writeln("which also can be written as " + "<BR>");
	document.writeln("p(x) = ");

	for (i=1; i <= Size; i++)
	//	c[i] = c[i].toFixed(2);
		c[i] = Math.round(c[i] * 100)/100;
	for (i = 1; i < Size; i++)
	{
		document.write("(" + c[i].toPrecision(2) + ")" + s1[i]);
		document.writeln("<FONT COLOR=green SIZE=+3> + </FONT>"); 
	}
	document.writeln("(" + c[Size] + ")" + s1[Size] + "."); 

	document.writeln("<P><P>");
        document.writeln("<INPUT TYPE='button' ");
	document.writeln("VALUE='BACK to Lagrange Interpolation'");
        document.writeln("OnClick='history.go( -1 );return true;'>");
        document.writeln("</FONT></B></CENTER></BODY></HTML>");
}
// =======================================

</script>
</head>
<body bgcolor="lightgrey"> 

<center>

<font color="navy" size="+1"><br><b>Lagrange Polynomial 
Interpolation</b></font></center>

<center>
<form name="MyForm">
<center><table bgcolor="white" border="2" bordercolor="gray" width="70%">
<tbody><tr><td>
Below enter the x-coordinate of the first point (in the first field), 
then 
the 
y-coordinate (in the second field), then press the 
"ENTER" button, then enter the coordinates of the second point following 
the 
same procedure, and so on. When you finish entering the points, press the 
"EVALUATE" button. To do a new interpolation, press the "Start Over" 
button. 
</td></tr>

<tr><td bgcolor="lightgrey"><center>
Enter the x-coordinate: <input value="122" name="ValueX" size="20" type="text"> 
Enter the y-coordinate: <input value="11" name="ValueY" size="20" type="text">
<input value="ENTER" onclick="getXY()" type="button">
</center></td></tr>


<tr><td bgcolor="gray"><center>
<input value="EVALUATE" onclick="Lagrange()" type="button">
</center></td></tr>

<tr><td bgcolor="gray"><center>
<input value="Start Over" onclick="StartOver()" type="button">
</center></td></tr>

</tbody></table></center>
</form>
</center>


<p>








</p></body></html>